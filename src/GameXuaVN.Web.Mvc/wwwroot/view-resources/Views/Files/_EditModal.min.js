(function(n){function r(){var r,e,o,s;if(t.valid()){if(r=t.serializeFormToObject(),r.roleNames=[],e=t[0].querySelectorAll("input[name='role']:checked"),e)for(o=0;o<e.length;o++)s=n(e[o]),r.roleNames.push(s.val());abp.ui.setBusy(t);u.update(r).done(function(){i.modal("hide");abp.notify.info(f("SavedSuccessfully"));abp.event.trigger("user.edited",r)}).always(function(){abp.ui.clearBusy(t)})}}var u=abp.services.app.user,f=abp.localization.getSource("GameXuaVN"),i=n("#UserEditModal"),t=i.find("form");t.closest("div.modal-content").find(".save-button").click(function(n){n.preventDefault();r()});t.find("input").on("keypress",function(n){n.which===13&&(n.preventDefault(),r())});i.on("shown.bs.modal",function(){t.find("input[type=text]:first").focus()})})(jQuery);