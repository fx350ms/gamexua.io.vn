(function(n){function r(){if(t.valid()){var n=t.serializeFormToObject();n.Page=n.Name.substring(0,1);abp.ui.setBusy(t);update(t,n).done(function(){i.modal("hide");abp.notify.info(u("SavedSuccessfully"));abp.event.trigger("game.edited",n)}).always(function(){abp.ui.clearBusy(t)})}}var f=abp.services.app.game,u=abp.localization.getSource("GameXuaVN"),i=n("#GameEditModal"),t=i.find("form");update=function(t,i,r){var u=new FormData,f,e,o;for(f in i)i.hasOwnProperty(f)&&u.append(f,i[f]);return e=t.find('input[name="ThumbnailFromFile"]:first')[0].files[0],e&&u.append("ThumbnailFromFile",e),o=t.find('input[name="DataFromFile"]:first')[0].files[0],o&&u.append("DataFromFile",o),abp.ajax(n.extend(!0,{url:abp.appPath+"Game/Update",type:"PUT",processData:!1,contentType:!1,data:u},r))};t.closest("div.modal-content").find(".save-button").click(function(n){n.preventDefault();r()});t.find("input").on("keypress",function(n){n.which===13&&(n.preventDefault(),r())});i.on("shown.bs.modal",function(){t.find("input[type=text]:first").focus()})})(jQuery);